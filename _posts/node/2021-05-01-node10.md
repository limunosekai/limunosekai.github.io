---
layout: post
title: Auth Boiler Plate View with React,Redux - Signup, Logout
category: Node.js
permalink: /node/:year/:month/:day/:title/
tags: [Node.js, React]
comments: true
---

---

## Boiler Plate with React,Redux - Signup, Logout

---

#### Signup View Page

ì´ë¯¸ ë¡œê·¸ì¸ë•Œ ë¦¬ë•ìŠ¤ ê´€ë ¨ ë¹Œë“œë¥¼ ë‹¤ í•´ë†“ì•„ì„œ íŠ¹ë³„íˆ í¬ê²Œ ë°”ë€ŒëŠ”ê±´ ì—†ê³  ê·¸ì € ì¶”ê°€ê°€ ë  ë¿ì´ë‹¤

view í˜ì´ì§€ë„ ë¡œê·¸ì¸ ë•Œì˜ ë¡œì§ì„ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ state, inputì°½ ëª‡ ê°œ ë” ì¶”ê°€í•˜ê³  dispatchí•  actionëª…ì„ ë°”ê¾¸ë©´ ëì´ë‹¤

```react
dispatch(registerUser(body)).then((response) => {
    if (response.payload.success) {
        props.history.push('/login');
    } else {
        alert('SignUp Fail!');
    }
});
```

<br>

actionë„ íšŒì›ê°€ì…ìš©ì„ í•˜ë‚˜ ë” ì¶”ê°€í•œë‹¤

```react
export function registerUser(dataSubmit) {
  const request = axios
    .post('/api/users/register', dataSubmit)
    .then((response) => {
      return response.data;
    });

  return {
    type: actions.REGISTER_USER,
    payload: request,
  };
}
```

<br>

reducerì— switch êµ¬ë¬¸ì˜ caseì—ë„ íšŒì›ê°€ì… actionì„ ì¶”ê°€í•œë‹¤

```react
export default function (state = {}, action) {
  switch (action.type) {
    case actions.LOGIN_USER: // ë¡œê·¸ì¸
      return {
        ...state,
        loginSuccess: action.payload,
      };
    case actions.REGISTER_USER: // íšŒì›ê°€ì…
      return {
        ...state,
        register: action.payload,
      };
    default:
      return state;
  }
}

```

<br>

í…ŒìŠ¤íŠ¸ë¡œ íšŒì›ê°€ì…ì„ ì‹œë„í•´ë³¸ë‹¤

![í…ŒìŠ¤íŠ¸](/assets/post/node/9.PNG)

íšŒì›ê°€ì…ë„ ì˜ ë˜ê³  ë¡œê·¸ì¸ë„ ì˜ ëœë‹¤

ì„±ê³µ~~ğŸ¤Ÿ

<br>

#### Logout

ë¡œê·¸ì•„ì›ƒì€ ë” ê°„ë‹¨í•˜ë‹¤

ë¡œê·¸ì¸ì‹œ ì´ë™í•˜ëŠ” LandingPageì— button íƒœê·¸ë¥¼ í•˜ë‚˜ íŒŒê³  onClick ì´ë²¤íŠ¸ë¥¼ ê±¸ì–´ì¤€ë‹¤. ë

```react
const onClickHandler = () => {
    axios.get('/api/users/logout').then((response) => {
        console.log(response.data);
        if (response.data.success) {
            props.history.push('/');
        } else {
            alert('Logout Fail!');
        }
    });
};

<button onClick={onClickHandler}>Logout</button>
```

ë¯¸ë¦¬ ì„œë²„ì—ì„œ ë§Œë“¤ì–´ë†“ì€ ë¡œê·¸ì•„ì›ƒ apiì— axios ìš”ì²­ì„ í•˜ê³  ì‘ë‹µë°›ì€ ë°ì´í„°ë¡œ ê·¸ì— ë§ëŠ” ì•¡ì…˜ì„ ì·¨í•´ì£¼ë©´ ëœë‹¤

ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ì½˜ì†”ì°½ì— response.dataë¥¼ ì°ì–´ë³´ë©´

![í…ŒìŠ¤íŠ¸](/assets/post/node/10.PNG)

`success: true`ê°€ ì˜ ì°íˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤

ì„±ê³µ~~ğŸ¤Ÿ

<br>

---

## ì°¸ê³  ìë£Œ

---

[ê¸°ì´ˆ ë…¸ë“œ ë¦¬ì•¡íŠ¸ ê°•ì˜ - John Ahn](https://www.youtube.com/watch?v=7sHWMkFOR7c&list=PL9a7QRYt5fqkZC9jc7jntD1WuAogjo_9T&index=2)

